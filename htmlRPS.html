<!DOCTYPE html>
<html>
<head> <meta charset="utf-8"/> </head>

<body>

<p>Rock Paper Scissors all. All the magic is in the console for now.</p>

<script>

//global variables
var playerPoints = 0;
var computerPoints = 0;


// This function generates the computers choice of RPS. 
function computerPlay() {
  let cpuChoice = Math.floor(Math.random() * 3);
  if (cpuChoice === 0) {
    return "rock";
  } else if (cpuChoice === 1) {
    return "paper";
  } else {
    return "scissors";
  }
}

// This function calls on the human to input one of RPS and it makes the input lower case. 
function playerPlay(){
  let humanChoice = prompt("Please make a selection. Rock Paper or Scissors.").toLowerCase();
  if ((humanChoice === "rock") || (humanChoice === "paper") || (humanChoice === "scissors")) {
    return humanChoice;
  } else {
    alert("You didnt pick one of Rock, Paper or Scissors. Please Try again.")
    playerPlay()
  }
 }

// This function evaluates the computer selection and the human selection and tells us who won.
function playRound(playerSelection, computerSelection) {
  if (playerSelection === computerSelection) {
    return "It's a tie. It's getting tense!";
  } 

  if (playerSelection === "rock") {
    if (computerSelection === "scissors") {
      playerPoints++;
      return "You win this round because good ol rock crushes scissors!";      
    }
      if (computerSelection === "paper") {
        computerPoints++;
        return "Oh paper beats rock you lose!";}        
  }

  if (playerSelection === "paper") {
    if (computerSelection === "rock") {
        playerPoints++;
        return "You win this round because paper beats rock!";      
      } 
        if (computerSelection === "scissors") {
          computerPoints++;
          return "Oh no you lost because paper cant stand up to scissors."}          
  }

  if (playerSelection === "scissors") {
    if (computerSelection === "paper") {
       playerPoints++;
       return "You win because Scissors cuts through Paper!"
      } 
        if (computerSelection === "rock") {
          computerPoints++;
          return "Oh no you lost because Rock crushes Scissors!"}
   } 
}

// This function throws everything together and provides us with details in the console.log
function gameInputs() {
  let playerSelection = playerPlay();
  let computerSelection = computerPlay();
  let result = playRound(playerSelection, computerSelection);
  console.log("You chose: " + playerSelection);
  console.log("The computer chose: " + computerSelection);
  console.log("The result: " + result)
  console.log("Player Points: " + playerPoints, "Computer Points: " + computerPoints)
}

// this function uses gameInputs() to run the actual code of the game
// while this function keeps track of the points and ends when someone reaches 5. 
function game() {
  console.log("Are you ready for Rock Paper Scissors?")
  while (playerPoints < 3 && computerPoints < 3) {
    gameInputs();

} if (playerPoints >= 3) {
    console.log("You win the game! Hit refresh to play again.")
} else if (computerPoints >=3) {
    console.log("You lost this time! Hit refresh to play again.")
}
}

//makes the game start when the web page is opened. 
game()

</script>

</body>
</html>
